<!DOCTYPE HTML>
<html manifest="">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=10, user-scalable=yes">

    <title>管理系统</title>
    <link rel="stylesheet" href="/appMis/assets/app/bpmn-js/bower_components/bpmn-js/dist/assets/bpmn-font/css/bpmn-embedded.css">
    <link rel="stylesheet" href="/appMis/assets/app/bpmn-js/bower_components/bpmn-js/dist/assets/diagram-js.css">
    <script type="text/javascript" src="/appMis/assets/app/bpmn-js/dist/bpmn-viewer.js"></script>
    <script type="text/javascript" src="/appMis/assets/app/bpmn-js/dist/bpmn-modeler.js"></script>
    <script language="javascript" type="text/javascript">
        /** * 对Date的扩展，将 Date 转化为指定格式的String * 月(M)、日(d)、12小时(h)、24小时(H)、分(m)、秒(s)、周(E)、季度(q)
         可以用 1-2 个占位符 * 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) * eg: * (new
         Date()).pattern("yyyy-MM-dd hh:mm:ss.S")==> 2006-07-02 08:09:04.423
         * (new Date()).pattern("yyyy-MM-dd E HH:mm:ss") ==> 2009-03-10 二 20:09:04
         * (new Date()).pattern("yyyy-MM-dd EE hh:mm:ss") ==> 2009-03-10 周二 08:09:04
         * (new Date()).pattern("yyyy-MM-dd EEE hh:mm:ss") ==> 2009-03-10 星期二 08:09:04
         * (new Date()).pattern("yyyy-M-d h:m:s.S") ==> 2006-7-2 8:9:4.18
         */
        Date.prototype.pattern=function(fmt) {
            var o = {
                "M+" : this.getMonth()+1, //月份
                "d+" : this.getDate(), //日
                "h+" : this.getHours()%12 == 0 ? 12 : this.getHours()%12, //小时
                "H+" : this.getHours(), //小时
                "m+" : this.getMinutes(), //分
                "s+" : this.getSeconds(), //秒
                "q+" : Math.floor((this.getMonth()+3)/3), //季度
                "S" : this.getMilliseconds() //毫秒
            };
            var week = {
                "0" : "日",
                "1" : "一",
                "2" : "二",
                "3" : "三",
                "4" : "四",
                "5" : "五",
                "6" : "六"
            };
            if(/(y+)/.test(fmt)){
                fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length));
            }
            if(/(E+)/.test(fmt)){
                fmt=fmt.replace(RegExp.$1, ((RegExp.$1.length>1) ? (RegExp.$1.length>2 ? "星期" : "周") : "")+week[this.getDay()+""]);
            }
            for(var k in o){
                if(new RegExp("("+ k +")").test(fmt)){
                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));
                }
            }
            return fmt;
        }
    </script>

    <!-- The line below must be kept intact for Sencha Cmd to build your application -->
    <script language="javascript">
        //firefox关闭时，弹出提示对话框
        /*window.addEventListener("beforeunload", function (e) {
            var confirmationMessage = '确定离开此页吗？本页不需要刷新或后退';
            (e || window.event).returnValue = confirmationMessage;     // Gecko and Trident
            return confirmationMessage;                                // Gecko and WebKit
        });*/
        window.addEventListener('beforeunload',beforeUnloadHandler,true);

        function beforeUnloadHandler(e) {
            //浏览器为了安全考虑，只允许js关闭由js打开的页面，即只能关闭window.open打开的页面。
            // var confirmationMessage = '业务未执行完成，离开本页面会导致执行失败，是否现在离开？';
            // (e || window.event).returnValue = confirmationMessage;
            //return confirmationMessage;
            e.returnValue = "您确定要离开管理系统吗？";
            return '您确定要离开管理系统吗？'
        }
        /*var UnloadConfirm = {};
        UnloadConfirm.MSG_UNLOAD = "数据尚未保存，离开后可能会导致数据丢失\n\n您确定要离开吗？";
        UnloadConfirm.set = function(a) {
            window.onbeforeunload = function(b) {
                b = b || window.event;
                b.returnValue = a;
                return a
            }
        };
        UnloadConfirm.clear = function() {
            fckDraft.delDraftById();
            window.onbeforeunload = function() {}
        };
        UnloadConfirm.set(UnloadConfirm.MSG_UNLOAD);*/
    </script>




    <!-- The line below must be kept intact for Sencha Cmd to build your application -->
    <script id="microloader" data-app="257a3382-bfd9-42f7-984d-40c2eedab2d9" type="text/javascript" src="bootstrap.js"></script>

</head>
<body></body>
</html>
